{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Work/frontend/React/itine/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mac/Work/frontend/React/itine/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useMutation,useQueryClient}from\"react-query\";import{login}from\"../services/auth.service\";export var useLogin=function useLogin(options){var queryClient=useQueryClient();return useMutation({mutationFn:function(){var _mutationFn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return login(\"/login\",payload);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));function mutationFn(_x){return _mutationFn.apply(this,arguments);}return mutationFn;}(),onSuccess:function onSuccess(data){var _options$onSuccess;options===null||options===void 0?void 0:(_options$onSuccess=options.onSuccess)===null||_options$onSuccess===void 0?void 0:_options$onSuccess.call(options,data);queryClient.invalidateQueries({queryKey:[\"login\"]});},onError:function onError(error){var _options$onError;options===null||options===void 0?void 0:(_options$onError=options.onError)===null||_options$onError===void 0?void 0:_options$onError.call(options,error===null||error===void 0?void 0:error.response);}});};","map":{"version":3,"names":["useMutation","useQueryClient","login","useLogin","options","queryClient","mutationFn","_mutationFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","payload","wrap","_callee$","_context","prev","next","abrupt","sent","stop","_x","apply","arguments","onSuccess","data","_options$onSuccess","call","invalidateQueries","queryKey","onError","error","_options$onError","response"],"sources":["/Users/mac/Work/frontend/React/itine/src/hooks/useAuthApi.js"],"sourcesContent":["import { useMutation, useQueryClient } from \"react-query\";\nimport { login } from \"../services/auth.service\";\n\nexport const useLogin = (options) => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (payload) => await login(\"/login\", payload),\n\n    onSuccess: (data) => {\n      options?.onSuccess?.(data);\n      queryClient.invalidateQueries({ queryKey: [\"login\"] });\n    },\n    onError(error) {\n      options?.onError?.(error?.response);\n    },\n  });\n};\n"],"mappings":"oQAAA,OAASA,WAAW,CAAEC,cAAc,KAAQ,aAAa,CACzD,OAASC,KAAK,KAAQ,0BAA0B,CAEhD,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,OAAO,CAAK,CACnC,GAAM,CAAAC,WAAW,CAAGJ,cAAc,CAAC,CAAC,CAEpC,MAAO,CAAAD,WAAW,CAAC,CACjBM,UAAU,gBAAAC,WAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAO,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAAW,CAAAf,KAAK,CAAC,QAAQ,CAAEU,OAAO,CAAC,eAAAG,QAAA,CAAAG,MAAA,UAAAH,QAAA,CAAAI,IAAA,0BAAAJ,QAAA,CAAAK,IAAA,MAAAT,OAAA,eAAAL,WAAAe,EAAA,SAAAd,WAAA,CAAAe,KAAA,MAAAC,SAAA,UAAAjB,UAAA,KAE7DkB,SAAS,CAAE,SAAAA,UAACC,IAAI,CAAK,KAAAC,kBAAA,CACnBtB,OAAO,SAAPA,OAAO,kBAAAsB,kBAAA,CAAPtB,OAAO,CAAEoB,SAAS,UAAAE,kBAAA,iBAAlBA,kBAAA,CAAAC,IAAA,CAAAvB,OAAO,CAAcqB,IAAI,CAAC,CAC1BpB,WAAW,CAACuB,iBAAiB,CAAC,CAAEC,QAAQ,CAAE,CAAC,OAAO,CAAE,CAAC,CAAC,CACxD,CAAC,CACDC,OAAO,UAAAA,QAACC,KAAK,CAAE,KAAAC,gBAAA,CACb5B,OAAO,SAAPA,OAAO,kBAAA4B,gBAAA,CAAP5B,OAAO,CAAE0B,OAAO,UAAAE,gBAAA,iBAAhBA,gBAAA,CAAAL,IAAA,CAAAvB,OAAO,CAAY2B,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEE,QAAQ,CAAC,CACrC,CACF,CAAC,CAAC,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}